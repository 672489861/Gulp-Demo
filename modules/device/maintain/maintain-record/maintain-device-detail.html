<ion-view view-title="设备维保记录详细">
    <ion-content>
        <h3 class="page-detail-title text-center">{{deviceRecordInfo.number}}</h3>
        <div class="list">
            <div class="item item-divider item-divider-title item-icon-right" ng-init="showBaseInfo = true;"
                 ng-click="showBaseInfo=!showBaseInfo">
                <p>基本信息</p>
                <i class="icon ion-ios-arrow-up" ng-class="showBaseInfo?'ion-ios-arrow-down':'ion-ios-arrow-up'"></i>
            </div>
            <div class="item nopadding-vertical" ng-show="showBaseInfo">
                <table class="table-row">
                    <tbody>
                    <tr>
                        <td width="35%">设备名称</td>
                        <td align="right">{{deviceRecordInfo.name}}</td>
                    </tr>
                    <tr>
                        <td>型号/规格</td>
                        <td align="right">{{deviceRecordInfo.specifications}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="item item-divider item-divider-title item-icon-right" ng-init="showRemindInfo = true;"
                 ng-click="showRemindInfo=!showRemindInfo">
                <p>维保信息</p>
                <i class="icon ion-ios-arrow-up" ng-class="showRemindInfo?'ion-ios-arrow-down':'ion-ios-arrow-up'"></i>
            </div>
            <div class="item nopadding-vertical" ng-show="showRemindInfo">
                <table class="table-row">
                    <tbody>
                    <tr>
                        <td>维保周期</td>
                        <td align="right">{{deviceRecordInfo.maintainInterval}}
                            <span ng-if="deviceRecordInfo.maintainIntervalunit==0">年</span>
                            <span ng-if="deviceRecordInfo.maintainIntervalunit==1">月</span>
                            <span ng-if="deviceRecordInfo.maintainIntervalunit==2">日</span></td>
                    </tr>
                    <tr>
                        <td>维保单位</td>
                        <td align="right">{{deviceRecordInfo.unit}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="item item-divider item-divider-title item-icon-right" ng-init="showCheckEdit = true;"
                 ng-click="showCheckEdit=!showCheckEdit">
                <p>维保处理</p>
                <i class="icon ion-ios-arrow-up" ng-class="showCheckEdit?'ion-ios-arrow-down':'ion-ios-arrow-up'"></i>
            </div>
            <div class="item nopadding-vertical" ng-show="showCheckEdit">
                <table class="table-row">
                    <tbody>
                    <tr>
                        <td>维保时间</td>
                        <td align="right">{{deviceRecordInfo.maintainTime}}</td>
                    </tr>
                    <tr>
                        <td>维保单位</td>
                        <td align="right">{{deviceRecordInfo.unit}}</td>
                    </tr>
                    <tr>
                        <td>维保费用</td>
                        <td align="right">{{deviceRecordInfo.cost}}元</td>
                    </tr>
                    <tr>
                        <td>维保结论</td>
                        <td align="right">
                            <span ng-if="deviceRecordInfo.conclusionId==1">设备不存在故障，运行正常</span>
                            <span ng-if="deviceRecordInfo.conclusionId==2">设备存在故障，有运行隐患。</span>
                    </tr>
                    <tr>
                        <td width="30%">故障分析及处理</td>
                        <td align="right">{{deviceRecordInfo.breakdownName}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="item item-divider item-divider-title item-icon-right" ng-init="showAttachmentInfo = true;"
                 ng-click="showAttachmentInfo=!showAttachmentInfo" ng-click="showAttachmentInfo">
                <p>附件信息</p>
                <i class="icon ion-ios-arrow-up" ng-class="showAttachmentInfo?'ion-ios-arrow-down':'ion-ios-arrow-up'"></i>
            </div>
            <div class="item item-grid nopadding" ng-show="showAttachmentInfo" style="background-color: white">
                <div ng-repeat="attach in attaches" ng-click="download(attach)">
                    <img src="{{attach.name|showAttachIcon}}">
                </div>
            </div>
        </div>
    </ion-content>
    <style type="text/css">
        .padding-bottom-40 {
            padding-bottom: 40px;
        }
    </style>
</ion-view>